<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiplier Game</title>
    <style>
        /* reset style */
        html, body, div, span, applet, object, iframe,
        h1, h2, h3, h4, h5, h6, p, blockquote, pre,
        a, abbr, acronym, address, big, cite, code,
        del, dfn, em, img, ins, kbd, q, s, samp,
        small, strike, strong, sub, sup, tt, var,
        b, u, i, center,
        dl, dt, dd, ol, ul, li,
        fieldset, form, label, legend,
        table, caption, tbody, tfoot, thead, tr, th, td,
        article, aside, canvas, details, embed, 
        figure, figcaption, footer, header, hgroup, 
        menu, nav, output, ruby, section, summary,
        time, mark, audio, video {
        	margin: 0;
        	padding: 0;
        	border: 0;
        	font-size: 100%;
        	font: inherit;
        	vertical-align: baseline;
        }
        article, aside, details, figcaption, figure, 
        footer, header, hgroup, menu, nav, section {
        	display: block;
        }
        body {
        	line-height: 1;
        }
        ol, ul {
        	list-style: none;
        }
        blockquote, q {
        	quotes: none;
        }
        blockquote:before, blockquote:after,
        q:before, q:after {
        	content: '';
        	content: none;
        }
        table {
        	border-collapse: collapse;
        	border-spacing: 0;
        }

        /* General Layout */
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        /* Gamebar Styles */
        .gamebar {
            width: 250px;
            margin-right: 20px;
            padding: 20px;
            background-color: #e6f7ff;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        .gamebar h3 {
            font-size: 18px;
            margin-bottom: 10px;
            text-align: center;
        }
        .gamebar .current,
        .gamebar .next {
            font-size: 16px;
            margin-bottom: 15px;
        }
        .status {
            font-size: 16px;
            margin-top: 10px;
            text-align: center;
        }
        .progress-bar {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        /* Button Styles */
        button {
            font-size: 16px;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: transparent;
            transition: background-color 0.3s, transform 0.3s ease;
        }
        button:disabled {
            background-color: #A9A9A9;
            cursor: not-allowed;
        }
        button:hover {
            background-color: #AFEEEE;
            transform: translateY(-2px);
        }
        button.correct {
            background-color: #228B22;
        }
        button.wrong {
            background-color: #FA8072;
        }

        /* Game Container */
        .game-container {
            text-align: center;
            display: grid;
            grid-template-columns: auto auto auto;
            align-items: start;
            justify-content: center;
            gap: 24px;
            transition: all 0.3s ease;
        }

        /* Example Display */
        .example {
            font-size: 24px;
            margin-bottom: 20px;
            transition: opacity 0.3s ease-in-out;
        }

        /* Input Container */
        .input-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        input {
            font-size: 18px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 100px;
            text-align: center;
            transition: all 0.3s ease;
        }
        input.invalid {
            border-color: #FA8072;
        }

        /* Block Container for Animations */
        .block-container {
            position: relative;
            margin-top: 30px;
            height: 200px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .block {
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            background-color: #FFD700;
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            font-weight: bold;
            animation: moveToSchema 0.5s ease forwards;
        }
        .fade-in {
            opacity: 0;
            animation: fadeIn 500ms forwards;
        }
        .show {
            opacity: 1;
        }

        /* Cube Container */
        #cubeContainer {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 20px;
            transition: opacity 0.3s ease;
        }
        .row {
            display: flex;
            gap: 10px;
            transition: all 0.3s ease;
        }
        .cube {
            width: 30px;
            height: 30px;
            background-color: #4caf50;
            border-radius: 5px;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }

        /* Hint Button Styles */
        #hintButton {
            font-size: 18px;
            padding: 10px 20px;
            margin-top: 20px;
            border: none;
            border-radius: 5px;
            background-color: #FFD700;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #hintButton:hover {
            background-color: #FFCC00;
        }
        #hintButton.hint-highlight {
            background-color: #FF6347;
            transition: background-color 0.3s;
        }

        /* Animations */
        @keyframes moveToSchema {
            100% {
                top: 150px;
            }
        }
        @keyframes fadeIn {
            100% {
                opacity: 1;
            }
        }

        /* Disabled Submit Button */
        #submit:disabled {
            background-color: #A9A9A9;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="gamebar">
            <h3>Examples</h3>
            <div class="current" id="currentExample">Current: 2 × 1 = ?</div>
            <div class="next" id="nextExample">Next: 2 × 2 = ?</div>
            <div class="progress-bar" id="progressBar">
                <button id="prevExample">Previous</button>
                <button id="nextExampleBtn">Next</button>
            </div>
        </div>
        <div class="game">
            <div class="example" id="example">2 × 1 = ?</div>
            <div class="input-container">
                <input type="number" id="answer" placeholder="Enter your answer">
                <button id="submit" disabled>Check</button>
            </div>
            <div class="block-container" id="cubeContainer"></div>
            <button id="hintButton">Get Hint</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const examples = [
                { multiplier: 3, number: 3 },
                { multiplier: 5, number: 7 },
                { multiplier: 2, number: 7 },
                { multiplier: 7, number: 2 },
                { multiplier: 4, number: 6 }
            ];

            let currentExampleIndex = 0;
            const maxExampleIndex = examples.length - 1;
            
            const example = document.getElementById('example');
            const answerInput = document.getElementById('answer');
            const submitButton = document.getElementById('submit');
            const cubeContainer = document.getElementById('cubeContainer');
            const hintButton = document.getElementById('hintButton');
            const currentExample = document.getElementById('currentExample');
            const nextExample = document.getElementById('nextExample');
            const prevExampleBtn = document.getElementById('prevExample');
            const nextExampleBtn = document.getElementById('nextExampleBtn');

            let currentState = null;

            function updateExamples() {
                const current = examples[currentExampleIndex];

                const exampleText = document.createElement('span');
                exampleText.id = 'exampleText';
                exampleText.textContent = `${current.number} × ${current.multiplier} = ?`;

                const oldExampleText = document.getElementById('exampleText');
                if (oldExampleText) {
                    oldExampleText.classList.remove('show');
                }
            
                example.innerHTML = ''; 
                example.appendChild(exampleText);
            
                setTimeout(() => {
                    exampleText.classList.add('fade-in');
                }, 10);
            
                currentExample.textContent = `Current: ${current.number} × ${current.multiplier} = ?`;
                nextExample.textContent = `Next: ${examples[currentExampleIndex + 1] ? `${examples[currentExampleIndex + 1].number} × ${examples[currentExampleIndex + 1].multiplier} = ?` : 'End'}`;
            
                if (currentState === 0) {
                    cubeContainer.innerHTML = '';
                }
            
                if (currentState !== null) {
                    setTimeout(() => {
                        currentState = null;
                        submitButton.classList.remove('correct', 'wrong');
                        answerInput.classList.remove('invalid');
                        answerInput.value = '';
                        updateExamples();
                    }, 1000);
                }
            }

            function createHintCubes(rows, cubesPerRow) {
                cubeContainer.innerHTML = '';
                for (let i = 0; i < rows; i++) {
                    const row = document.createElement('div');
                    row.classList.add('row');
                    for (let j = 0; j < cubesPerRow; j++) {
                        const cube = document.createElement('div');
                        cube.classList.add('cube');
                        row.appendChild(cube);
                    }
                    cubeContainer.appendChild(row);
                }
            }

            function checkAnswer() {
                const current = examples[currentExampleIndex];
                const userAnswer = parseInt(answerInput.value, 10);
                const correctAnswer = current.number * current.multiplier;

                if (userAnswer === correctAnswer) {
                    submitButton.classList.add('correct');
                    currentState = 0;

                    const exampleText = document.getElementById('exampleText');
                    exampleText.textContent = `${current.number} × ${current.multiplier} = ${userAnswer}`;

                    setTimeout(() => {
                        if (currentExampleIndex < maxExampleIndex) {
                            currentExampleIndex++;
                        }
                        updateExamples();
                    }, 1000);
                } else {
                    submitButton.classList.add('wrong');
                    answerInput.classList.add('invalid');
                    hintButton.classList.add('hint-highlight');
                    setTimeout(() => {
                        hintButton.classList.remove('hint-highlight');
                    }, 1000); 
                    currentState = 1;
                    updateExamples();
                }
            }

            prevExampleBtn.addEventListener('click', () => {
                if (currentExampleIndex > 0) {
                    currentExampleIndex--;
                    currentState = null;
                    updateExamples();
                }
            });

            nextExampleBtn.addEventListener('click', () => {
                if (currentExampleIndex < maxExampleIndex) {
                    currentExampleIndex++;
                    currentState = null;
                    updateExamples();
                }
            });

            answerInput.addEventListener('input', () => {
                submitButton.disabled = !answerInput.value;
            });

            submitButton.addEventListener('click', () => {
                checkAnswer();
            });

            hintButton.addEventListener('click', () => {
                const current = examples[currentExampleIndex];
                const rows = current.multiplier; 
                const cubesPerRow = current.number;
                createHintCubes(rows, cubesPerRow);
            });

            updateExamples();
        });
    </script>
</body>
</html>